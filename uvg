import { useState } from "react";
import Create from "./pages/Create";
import Publish from "./pages/Publish";
import Store from "./pages/Store";
import AppView from "./pages/AppView";

function App() {
  const [page, setPage] = useState("create");
  const [apps, setApps] = useState([]);
  const [activeApp, setActiveApp] = useState(null);

  const addApp = (app) => {
    setApps([...apps, app]);
    setPage("store");
  };

  if (activeApp) {
    return <AppView app={activeApp} exit={() => setActiveApp(null)} />;
  }

  return (
    <div>
      <nav style={{ padding: "10px" }}>
        <button onClick={() => setPage("create")}>ğŸ¨ Create</button>
        <button onClick={() => setPage("publish")}>ğŸš€ Publish</button>
        <button onClick={() => setPage("store")}>ğŸª Store</button>
      </nav>

      {page === "create" && <Create />}
      {page === "publish" && <Publish onPublish={addApp} />}
      {page === "store" && (
        <Store apps={apps} openApp={(app) => setActiveApp(app)} />
      )}
    </div>
  );
}

export default App;
